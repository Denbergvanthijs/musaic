import keras
        
class LossHistory(keras.callbacks.Callback):
    @staticmethod
    def on_train_begin(self, logs={}):
        self.history = {'rhythm_decoder_loss':[],'melody_decoder_loss':[], 'rhythm_decoder_accuracy':[],'melody_decoder_accuracy': [] }

    def on_batch_end(self, batch, logs={}):
        self.history['rhythm_decoder_loss'].append(logs.get('rhythm_decoder_loss'))
        self.history['melody_decoder_loss'].append(logs.get('melody_decoder_loss'))
        self.history['rhythm_decoder_accuracy'].append(logs.get('rhythm_decoder_accuracy'))
        self.history['melody_decoder_accuracy'].append(logs.get('melody_decoder_accuracy'))     